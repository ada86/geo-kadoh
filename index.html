<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<script type="text/javascript" src="utils/jquery.js"></script>
	<script src="bootstrap/js/bootstrap.js"></script>
	<script src="http://maps.google.com/maps/api/js?sensor=true"></script>
	<script type="text/javascript" src="KadOH.js?debug=true"></script>
	<script type="text/javascript" src="lib/checkIn.js"></script>
	<script type="text/javascript" src="utils/sha1.js"></script>
	<script type="text/javascript" src="utils/cryptico.js"></script>
	<script type="text/javascript" src="utils/sjcl.js"></script>
	<script type="text/javascript" src="lib/configManager.js"></script>
	<script type="text/javascript" src="lib/listManager.js"></script>
	<script type="text/javascript" src="lib/checkIn.js"></script>
	<script type="text/javascript" src="lib/kadohInit.js"></script>

	<script type="text/javascript">
	
		var text = "Please login :)";
		function log(txt){
			text = txt+"<br>".concat(text);
			document.getElementById("output").innerHTML=text;
		}
	</script>
	<link href="bootstrap/css/bootstrap.css" rel="stylesheet" media="screen">
	<link href="bootstrap/css/bootstrap-responsive.css" rel="stylesheet">
	<title>Hi5! Geo-KadOH</title>
	
</head>
<body>

	<!--Navigation bar **************************************** -->

	<div class="navbar navbar-fixed-top">
		<div class="navbar-inner">
			<div class="container-fluid">
				<a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
					<span class="icon-bar"></span>
					<span class="icon-bar"></span>
					<span class="icon-bar"></span>
				</a>
				<a href="#" class="brand">Hi5! Geo-KadOH</a>
				<div class="nav-collapse collapse">
					<p class="navbar-text pull-right" id="loggedin">
					</p>
					<ul class="nav">
						<li><button class="btn btn-success" href="#Login" data-toggle="modal"> Log in</button></li>
						<li><a href="#Guide" data-toggle="modal">Guide</a></li>
						<li class="divider-vertical"></li>
						<li><a href="https://github.com/ada86/geo-kadoh">Source</a></li>
						<li><a href="https://github.com/ada86/geo-kadoh/blob/master/README.md">Documentation</a></li>
					</ul>
				</div>
			</div>
		</div>
	</div>
	
	<!--Modals ************************************************ -->
		<!--Login-->
	<div id="Login" class="modal hide fade" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="false">
		<div class="modal-header">
			<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
			<h3 id="myModalLabel">Log in</h3>
		</div>
		<div class="modal-body">
			<input type="text" id="myName" class="input-block-level" placeholder="Username">
			<input type="password" id="password" class="input-block-level" placeholder="Password">
			<label class="checkbox">
				<input type="checkbox" name="remember-me" id="remember-me">Remember my configuration on this machine</input>
			</label>
		</div>
		<div class="modal-footer">
			<button class="btn btn-large btn-primary" data-dismiss="modal" aria-hidden="true" onClick="configManager.logIn()">Log in</button>
		</div>
	</div>
		<!--Guide-->
	<div id="Guide" class="modal hide fade" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
		<div class="modal-header">
			<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
			<h3 id="myModalLabel">Guide for using Hi5! Geo-KadOH</h3>
		</div>
		<div class="modal-body pagination-centered">
			<img height="80" width="83" src="bootstrap/img/Hi5_Geo-KadOH_logo.png">
			<p class="lead">Hi5! Geo-KadOH is a decentralized solution for location sharing. You can easily create an account and start sharing your location with your friends.</p>
			<h4>About log in</h4>
			<p>If you don't have an account just type any username and password, and the system will create for you an account.</p>
			<h4>Output box</h4>
			<p>This box tells you in what state the website is. It also gives you responses on whether thigs go well or not.</p>
			<h4>Locating yourself</h4>
			<p>To locate yourself and share it to your friends just push the Share my location button. Your browser may ask you to allow location sharing which is required for this functionality. Succesfully shared location will be announced in the output box and your location will shown in the map. If you wish to share only with your group members then click on the small arrow and select the group you want to share with.</p>
			<h4>Finding friends and groups</h4>
			<p>Just type your friends username and we'll see if he has shared his location. There is a list of your saved friends behind the arrow. You can modify the list with edit button. After you have selected a friend we'll show you in the output box if the friends location was found. The friend will be then shown in the map. There is also a possibility</p>
			<h4>Requirement</h4>
			<p>You can use both desktop and mobile devices to use Hi5! Geo-KadOH. Only requirement is that the browser or the device should support HTML5.</p>
			<h4>Contact us</h4>
			<p>If you have some feedback on the webpage, we'll be happy to hear it. Just <a href="">click here</a></p>
		</div>
		<div class="modal-footer">
			<button class="btn" data-dismiss="modal" aria-hidden="true">Close</button>
		</div>
	</div>
		<!--Edit Friend-->
	<div id="editFriends" class="modal hide fade" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
		<div class="modal-header">
			<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
			<h3 id="myModalLabel">Edit friend list</h3>
		</div>
		<div class="modal-body">
			<p>Here the list...</p>
		</div>
		<div class="modal-footer">
			<button class="btn" data-dismiss="modal" aria-hidden="true">Close</button>
			<button class="btn btn-primary">Save changes</button>
		</div>
	</div>
		<!--Edit Group-->
	<div id="editGroups" class="modal hide fade" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
		<div class="modal-header">
			<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
			<h3 id="myModalLabel">Edit Group list</h3>
		</div>
		<div class="modal-body">
			<p>Here the list...</p>
		</div>
		<div class="modal-footer">
			<button class="btn" data-dismiss="modal" aria-hidden="true">Close</button>
			<button class="btn btn-primary">Save changes</button>
		</div>
	</div>
	
	<!--Main body ********************************************* -->
	<div class="container pagination-centered">
		<!--Topic desktop-->
		<div class="hero-unit hidden-phone visible-desktop">
			<h1>Welcome to Hi5! Geo-KadOH<img height="133" width="135"src="bootstrap/img/Hi5_Geo-KadOH_logo.png"></h1>
			<p>The decentralized location sharing Web application</p>
		</div>
		<!--Topic mobile-->
		<div class="page-header visible-phone hidden-desktop">
			<img height="80" width="83"src="bootstrap/img/Hi5_Geo-KadOH_logo.png">
			<h1>Welcome to Hi5! Geo-KadOH<br>
				<small>The decentralized location sharing Web application</small>
			</h1>
			<p id="loggedin_phone"></p>
			<button class="btn btn-success" href="#Login"  data-toggle="modal"> Log in</button>
		</div>
		<!--Map-->
		<div class="row-fluid collapse in">
			<div class="span10 offset1" id="mapholder"></div>
		</div>
		<div class="row">
			<div class="span4">
		<!--Check in-->
				<h2>Check in</h2>
				<br>
				<div class="btn-group">
					<button class="btn btn-primary" id="btnGetnaddLocation" onClick="checkIn.putMyLocation()"><i class="icon-ok-circle icon-white"></i> Share my location</button>
					<button class="btn btn-primary dropdown-toggle" data-toggle="dropdown">
						<span class="caret"></span>
					</button>
					<ul class="dropdown-menu" align="left" id="groupMenu">
						<!--We need here dynamicality TODO:JAVASCRIPT-->
						<li align="center">Only to group</li>
						<li><a href="#"><i class="icon-th-list"></i> Close friends</a></li>
						<li><a href="#"><i class="icon-th-list"></i> Work mates</a></li>
						<li><a href="#"><i class="icon-th-list"></i> Relatives</a></li>
					</ul>
				</div>
				<br><br><br>
			</div>
			<div class="span4">
		<!--Find Friends and Group-->
				<h2>Find friend</h2><br>
				<div class="input-append">
					<input id="friendName" type="text" placeholder="Type friends username" onkeydown="if (event.keyCode == 13) document.getElementById('btnGetFriendLocation').click()"/>
					<div class="btn-group">
						<button class="btn btn-primary" id="btnGetFriendLocation" onClick="checkIn.getFriendLocation()"><i class="icon-search icon-white"></i> Find</button>
						<button class="btn btn-primary dropdown-toggle" data-toggle="dropdown">
							<span class="caret"></span>
						</button>
						<ul class="dropdown-menu" align="left" id="friendMenu">
							<li><a href="#editFriends"role="button" data-toggle="modal"><i class="icon-pencil"></i> Edit</a></li>
						</ul>
					</div>
				</div><br>
				<h2>Find group</h2><br>
				<div class="btn-group">
					<a class="btn btn-primary dropdown-toggle" data-toggle="dropdown"><i class="icon-search icon-white"></i>
						Find Group
						<span class="caret"></span>
					</a>
					<ul class="dropdown-menu" align="left">
						<!--We need here dynamicality-->
						<li><a onClick="checkIn.getGroupLocation()"><i class="icon-th-list"></i> Close friends</a></li>
						<li><a onClick="checkIn.getGroupLocation()"><i class="icon-th-list"></i> Work mates</a></li>
						<li><a onClick="checkIn.getGroupLocation()"><i class="icon-th-list"></i> Relatives</a></li>
						<li><a href="#editGroups"role="button" data-toggle="modal"><i class="icon-pencil"></i> Edit</a></li>
					</ul>
				</div>
				<br><br>
			</div>
		<!--Output-->
			<div class="span4">
				<h2>Output</h2>
				<br>
				<pre class="pre pre-scrollable" style="height: 10pc;" id="output"></pre><br>
			</div>
		</div>
	</div>
	<hr>
		<!--Footer-->
	<div id="footer">
		<div class="container">
			<p class="muted credit"><strong>Abdalla Taha</strong> and <strong>Lorenzo Rand&eacute</strong></p>
		</div>
	</div>  
</body>
</html>
